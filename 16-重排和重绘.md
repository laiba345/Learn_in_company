## 重排和重绘
- 重排和重绘都会直接影响性能优化
  - 重排（一个代价非常昂贵的操作，尤其是在有大量DOM节点的复杂页面当中）
    - 当页面元素的几何属性发生变化时，浏览器需要重新计算元素的大小和位置，并重新构建渲染树（render tree）
    - 导致重排
      - 添加、删除DOM
      - 改变元素的几何属性，如 宽度、高度、边距、内边距、边框等
      - 改变元素的显示状态，如display从none变为block，或反之
      - 调整页面布局（窗口大小导致的响应式布局调整）
      - 读取某些属性（如 offsetHeight、offsetWidt、clientHeight等），会触发强制重排，因为浏览器需要确保最新的布局信息
  - 重绘
    - 页面的样式改变但不影响布局时，浏览器会更新元素的外观，比如颜色、背景等
    - 导致重绘
      - 改变css属性，如color、background-color等
      - 只改变外观不改变几何属性
    - 性能影响
      - 重绘的代价相对较低，因为无需重新计算布局；
- 重排和重绘的关系
  - 重排一定会引发重绘，重绘不一定会引发重排
- 性能优化建议
  - 减少重排次数
    - 对复杂动画或大量布局变化，使用position:absolute
    或fixed让元素脱离文档流，减少对其他元素的影响
  - 减少重绘次数
    - 避免频繁改变color等非必要样式
    - 使用 visibility: hidden 代替 display: none，因为 visibility 只会触发重绘而不会触发重排。
  - 使用css动画优化动画性能
    - 尽量使用 transform 和 opacity，因为它们不会触发重排或重绘，可以直接由 GPU 加速。
